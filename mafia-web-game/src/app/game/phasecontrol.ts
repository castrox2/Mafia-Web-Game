// switches between night and day phases and generates events